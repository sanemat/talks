<!-- === begin markdown block ===

      generated by markdown 1.1.1 on Ruby 2.1.2 (2014-05-08) [x86_64-darwin13.0]
                on 2014-09-06 04:10:08 +0900 with Markdown engine kramdown (1.3.3)
                  using options {}
  -->
<link href="page.css" rel="stylesheet" />

<link href="http://fonts.googleapis.com/css?family=Lato" rel="stylesheet" type="text/css" />

<h3 id="when-was-the-build-passing">When was the build passing?</h3>

<p>その build passingはいつ?</p>

<p>Nice badge: build passing (Travis CI)</p>

<p>build passing(Travis CI)のナイスバッジ</p>

<p><img src="./when-was-the-build-passing.gif" alt="when was the build passing" /></p>

<p>authored on Jul 5, 2013</p>

<p><strong>a year ago!!!</strong></p>

<h3 id="a-gap-between-travis-ci-and-github">A gap between Travis CI and GitHub</h3>

<p>Travis CI とGitHubの間</p>

<p>This paper is http://bit.ly/travis-ci-meetup-tachikoma-io</p>

<p>この資料は http://bit.ly/travis-ci-meetup-tachikoma-io です。</p>

<p>Travis CI is awesome, GitHub is awesome, but there is a gap between them,</p>

<p>Travis CIは神、GitHubも神、でも間にはスキマがあって</p>

<p>I make awesome web application filling this</p>

<p>埋める 神webアプリを作っています。</p>

<p><a href="http://tachikoma.io">Tachikoma.io</a></p>

<p>sanemat</p>

<h3 id="when-was-the-build-failing-actually-now">When was the build failing? Actually ‘Now’?</h3>

<p>いつ落ちたの? ホントに「今」?</p>

<p>It’s the story whether any specific programming language or not.</p>

<p>プログラミング言語問わずよくある話だと思う。</p>

<p><img src="./when-was-the-build-failing.gif" alt="when was the build failing" /></p>

<p>I found the failing test which I want to use.</p>

<p>使いたいライブラリのテストが落ちてるぞ。</p>

<p>I watched the result in Travis CI, I understood this.</p>

<p>Travis CI見て、どこが落ちてるかわかったぞ。</p>

<p>I fixed failing test!</p>

<p>テスト落ちてるの直したぞ。</p>

<p>I sent a pull request, but…</p>

<p>プルリクエストを送って、あれ?</p>

<p><img src="./many-test-failed.gif" alt="many test failed" /></p>

<p>WOOOOOO! Fail, Fail, Fail and Fail!</p>

<p>うわぁぁぁぁ。 Fail, Fail, Fail and Fail!</p>

<p>This is dependent libraries.</p>

<p>これはライブラリの依存のバージョンの話。</p>

<p>It is <strong>not</strong> a story that, we would have to fix the dependency version.</p>

<p>依存バージョンを固定してればよかった、という話では <strong>ない</strong> 。</p>

<p>We hit a bug on some library, so we should update that version.</p>

<p>あるライブラリのバグを踏んでいたので、そのライブラリのバージョンはどうしても上げる必要があった。</p>

<p>That requires updated node.js version.</p>

<p>それを動かすためには、node.jsのバージョンを上げる必要があり、</p>

<p>Updating node.js broke another library.</p>

<p>node.jsのバージョンを上げるには今度は別のライブラリを、</p>

<p>(snip)</p>

<p>以下略</p>

<p>図</p>

<p>The build failing is <strong>not</strong> now!</p>

<p>壊れたのは <strong>今</strong> じゃない</p>

<h2 id="im-sick-of-this">I’m sick of this!</h2>

<p>うんざりだ!</p>

<p>I made <a href="http://tachikoma.io">Tachikoma.io</a>, this is awesome application.</p>

<p>神アプリつくった <a href="http://tachikoma.io">Tachikoma.io</a></p>

<p>キャプチャ</p>

<p>Interval Pull Request</p>

<p>Travis CIのAPIで、rebuildするのとの違い</p>

<p>いつから落ちたかTravis CIでわかる</p>

<p>Travis CIのできることはTravis CIに任せる</p>

<p>Tachikoma.io と組み合わせて使うのは,</p>

<p>Travis CI!</p>

<p>(4分ぐらい?)</p>

<h2 id="one-more-thing">One More Thing</h2>

<p>各言語編</p>

<p>ruby: bundler, perl: carton, node.js: npm</p>

<p>依存関係コントロール, メタファイル</p>

<p>Gemfile.lock, carton.snapshot, package.json</p>

<p>依存関係update hell</p>

<p>これはもうこまめにアップデートしていく以外生き延びるすべはないのは明らか</p>

<p>定期的に bundle update (ruby) / carton update (perl) / david update (node.js)</p>

<p>依存ライブラリをアップデート</p>

<pre lang="yaml"><code>.tachikoma.yml
strategy: bundler
strategy: carton
strategy: david
strategy: none (default)
</code></pre>

<p><a href="http://tachikoma.io">Tachikoma.io</a> と組み合わせて使うのは,</p>

<p>Travis CI!!</p>

<h2 id="section">まとめ</h2>

<p>public版はFree!</p>

<p>private版は有料にしようかと作ってます 価格は予定</p>

<ul>
  <li>for private $9/mo</li>
  <li>for organization-private $29/mo</li>
  <li>for enterprise sanemat_AT_tachikoma.io</li>
</ul>

<p>さらにアイデアベース</p>

<ul>
  <li>ビルドログ見えるようにしよう</li>
  <li>ビルド終わったら(終わらなかったら)notification 飛ばしたい</li>
  <li>Intervalの頻度を調整できるようにしたい</li>
</ul>

<p>Tachikoma.ioと組み合わせて使うのは,</p>

<p>Travis CI!!!</p>

<p>自分のプロダクトの自慢?</p>

<p>Yes!</p>

<p>ライブラリの依存バージョンを上げないことは、すぐにはライブラリやアプリケーションにダメージを与えません。
新しく使いたいライブラリを追加するときに、既存のライブラリにセキュリティフィックスが出たときに、それぞれが正しく動作するバージョンの組み合わせを見つけることは、非常に困難です。
仮に組み合わせを見つけたとしても、すごく後ろ向きですし、次を追加するとき、より困難になって立ちはだかります。
また、ライブラリの新機能、スピードアップ、rubyのバージョンアップなどメリットを享受するために低いバージョンだとそれが使えないことがあります。
結果的に一番痛みが少ないのは、常に定期的に(安定した)最新版を組み合わせていくことです。
ここまでみんな知ってるしわかってるのに、なぜ出来ない?
それはツールやインテグレーションがまだ不足しているからだ、と私は考えます。
それを埋める1つのパーツがTachikoma.ioです。</p>

<p>世界に羽ばたくのでよろしくお願いいたします。</p>

<p><a href="http://tachikoma.io">Tachikoma.io</a></p>
<!-- === end markdown block === -->
